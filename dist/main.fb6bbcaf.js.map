{"version":3,"sources":["js/theme-menu.js","js/calculator.js","js/main.js"],"names":["MenuSwitch","_body","document","getElementsByTagName","_darkThemeBtn","querySelector","_lightThemeBtn","_violetThemeBtn","_toggleCircle","render","addEventListener","changeTheme","bindEvents","loadTheme","checkUserDefaultTheme","preferenceTheme","localStorage","getItem","theme","lightTheme","window","matchMedia","setItem","classList","setAttribute","Calculator","_calculator","_calculatorKeys","querySelectorAll","_calculatorScreen","_calculatorDisplay","_firstOperand","_secondOperand","_operation","_regex","event","forEach","key","dataset","value","add","setTimeout","remove","runOperation","input","keyInput","keyValue","clearScreen","validateInput","calculateResult","startCalculation","message","outputErorrMessage","resetCalculator","updateDisplay","Error","operand","operator","parseFloat","textContent","content","test","clearDisplay","operationValue","eval","setScreenValue","resetSecondOperand","App","Calculator1","MenuSwitch1"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..\\src","sourcesContent":["\r\nexport default class MenuSwitch {\r\n    constructor(){\r\n        \r\n        // dom caching \r\n        this._body = document.getElementsByTagName(\"body\")[0];\r\n        this._darkThemeBtn = this._body.querySelector(\".toggle__menu-input--dark-theme\");\r\n        this._lightThemeBtn = this._body.querySelector(\".toggle__menu-input--light-theme\");\r\n        this._violetThemeBtn = this._body.querySelector(\".toggle__menu-input--violet-theme\");\r\n        this._toggleCircle = this._body.querySelector(\".toggle__menu-circle\");\r\n        // render \r\n        this.render()\r\n\r\n    }\r\n\r\n    // bindint events\r\n    bindEvents(){\r\n\r\n\r\n        // theming \r\n        this._darkThemeBtn.addEventListener(\"click\",()=> { this.changeTheme(\"dark-theme\")})\r\n        this._lightThemeBtn.addEventListener(\"click\",()=> { this.changeTheme(\"light-theme\")})\r\n        this._violetThemeBtn.addEventListener(\"click\",()=> { this.changeTheme(\"violet-theme\")})\r\n        \r\n\r\n    }\r\n\r\n    // rendering \r\n    render(){\r\n        this.bindEvents();\r\n        this.loadTheme();\r\n        this.checkUserDefaultTheme();\r\n    }\r\n\r\n    // setting the theme accordingly to user preference\r\n    loadTheme(){\r\n        const preferenceTheme = localStorage.getItem(\"preference-theme\") || '';\r\n        const theme = localStorage.getItem(\"theme\") || \"\";\r\n        preferenceTheme ? this.changeTheme(preferenceTheme) : \"\";\r\n        theme ? this.changeTheme(theme) : \"\";\r\n\r\n    }\r\n\r\n    /**\r\n     * prograssive enhancement \r\n     * adjusting the thme to user's system level theme setting\r\n     */\r\n    checkUserDefaultTheme(){\r\n        const lightTheme = window.matchMedia(\"preference-color-scheme:light;\");\r\n        localStorage.setItem(\"preference-theme\",\"light-theme\");\r\n    }\r\n\r\n    // change theme and locate toggle correctly \r\n    changeTheme(theme){\r\n        if(theme === \"dark-theme\"){\r\n            this._body.classList = theme;\r\n            this._toggleCircle.classList = \"toggle__menu-circle\";\r\n            localStorage.setItem(\"theme\",\"dark-theme\");\r\n\r\n            // updating state \r\n            this._darkThemeBtn.setAttribute(\"aria-checked\",\"true\");\r\n            this._lightThemeBtn.setAttribute(\"aria-checked\",\"false\");\r\n            this._violetThemeBtn.setAttribute(\"aria-checked\",\"false\");\r\n\r\n        }else if (theme === \"light-theme\"){\r\n            this._body.classList = theme;\r\n            this._toggleCircle.classList = \"toggle__menu-circle toggle__menu-circle--light-theme\";\r\n            localStorage.setItem(\"theme\",\"light-theme\");\r\n\r\n\r\n            this._darkThemeBtn.setAttribute(\"aria-checked\",\"false\");\r\n            this._lightThemeBtn.setAttribute(\"aria-checked\",\"true\");\r\n            this._violetThemeBtn.setAttribute(\"aria-checked\",\"false\");\r\n\r\n        }else if(theme === \"violet-theme\"){\r\n            this._body.classList = theme;\r\n            this._toggleCircle.classList = \"toggle__menu-circle toggle__menu-circle--violet-theme\";\r\n            localStorage.setItem(\"theme\",\"violet-theme\");\r\n\r\n            this._darkThemeBtn.setAttribute(\"aria-checked\",\"false\");\r\n            this._lightThemeBtn.setAttribute(\"aria-checked\",\"false\");\r\n            this._violetThemeBtn.setAttribute(\"aria-checked\",\"true\");\r\n        }\r\n    }\r\n}","\r\n\r\nexport default class Calculator{\r\n\r\n    constructor(){\r\n\r\n        // dom caching \r\n        this._calculator = document.querySelector(\".calculator\");\r\n        this._calculatorKeys = this._calculator.querySelectorAll(\".calculator__keyboard-key\");\r\n        this._calculatorScreen = this._calculator.querySelector(\".calculator__screen-input\");\r\n        this._calculatorDisplay = this._calculator.querySelector(\".calculator__screen-display\")\r\n        this._firstOperand = \"\";\r\n        this._secondOperand= \"\";\r\n        this._operation;\r\n        this._regex = /\\d{1,20}$/\r\n\r\n\r\n       // rendering \r\n       this.render();\r\n    }\r\n\r\n    // event binding \r\n    bindEvents(){\r\n\r\n        // linking the keys to keyboard \r\n        document.addEventListener(\"keypress\",(event)=>{\r\n            this._calculatorKeys.forEach(key => {\r\n                if(key.dataset.value === event.key){\r\n                    key.classList.add(\"calculator__keyboard-key--active\");\r\n                    setTimeout(()=>{\r\n                        key.classList.remove(\"calculator__keyboard-key--active\")},100);\r\n                    this.runOperation(key.dataset.input,key.dataset.value)\r\n                }\r\n            })\r\n        })\r\n\r\n     \r\n        // responding to key inteaction \r\n        this._calculatorKeys.forEach(key => {\r\n            key.addEventListener(\"click\",(event)=> {\r\n                const keyInput = key.dataset.input;\r\n                const keyValue = key.dataset.value;\r\n                this.runOperation(keyInput,keyValue)\r\n            })\r\n        });\r\n    }\r\n\r\n\r\n    // rendering \r\n    render(){\r\n        this.clearScreen();\r\n        this.bindEvents();\r\n    }\r\n\r\n    runOperation(keyInput=\"\",keyValue=\"\"){\r\n        // if the keyInput is a operand \r\n        if(keyInput === \"operand\"){\r\n            this._calculatorScreen.value += `${keyValue}`;\r\n\r\n        // if the keyInput is a operator\r\n        }else if(keyInput === \"operator\"){\r\n            const input = this._calculatorScreen.value;\r\n            // validate input \r\n            if(this.validateInput(input)){\r\n                (keyValue === \"=\") ? \r\n                (this.calculateResult()):\r\n                this.startCalculation(input,keyValue);\r\n            }else{\r\n                // invalid input, notify the user and reset calculator\r\n                let message = \"Invalid input\";\r\n                this.outputErorrMessage(message);\r\n                setTimeout(()=>{ this.resetCalculator()},2000)\r\n            }\r\n\r\n        \r\n        // if the keyInput is a setting \r\n        }else if (keyInput === \"setting\"){\r\n            if(keyValue === \"reset\"){\r\n                this.resetCalculator();\r\n\r\n            }else{\r\n                this.clearScreen();\r\n                this.updateDisplay();\r\n            }\r\n        \r\n        }else{\r\n            throw Error(`Invalid operation${keyInput}`)\r\n        }\r\n    }\r\n\r\n\r\n    startCalculation(operand=\"\",operator=\"\"){\r\n        this._firstOperand = parseFloat(operand);\r\n        this._operation = operator;\r\n        this.updateDisplay();\r\n        this.clearScreen();\r\n    }\r\n\r\n    clearDisplay(){\r\n        this._calculatorDisplay.textContent = \"\";\r\n    }\r\n\r\n    // reset the calculator \r\n    updateDisplay(content=\"\"){\r\n        (!content) ? \r\n        (this._calculatorDisplay.textContent = \r\n        `${this._firstOperand} ${this._operation } ${this._secondOperand}`) :\r\n        (this._calculatorDisplay.textContent = content);\r\n    }\r\n\r\n    validateInput(input){\r\n        return this._regex.test(input) ? input : \"\";\r\n    }\r\n    \r\n    resetCalculator(){\r\n        this._firstOperand = \"\";\r\n        this._secondOperand = \"\";\r\n        this._operation = \"\";\r\n        this.clearDisplay();\r\n        this.clearScreen();\r\n    }\r\n\r\n    // completing calculation\r\n    calculateResult(){\r\n        this._secondOperand = parseFloat(this._calculatorScreen.value);\r\n        this.updateDisplay();\r\n        this.clearScreen();\r\n        let operationValue= eval(`${this._firstOperand} ${this._operation} ${this._secondOperand}`);\r\n        this.setScreenValue(operationValue)\r\n        this.resetSecondOperand();\r\n    }\r\n\r\n    outputErorrMessage(message=\"invalid input\"){\r\n        this._calculatorScreen.value = `${message}`\r\n    }\r\n    \r\n    resetFirstOperand(){\r\n        this._firstOperand = \"\";\r\n    }\r\n\r\n    resetSecondOperand(){\r\n        this._secondOperand = \"\";\r\n    }\r\n\r\n    setScreenValue(value=\"\"){\r\n        this._calculatorScreen.value += value;\r\n    }\r\n\r\n    clearScreen(){\r\n        this._calculatorScreen.value = \"\";\r\n    }\r\n\r\n  \r\n}","import MenuSwitch from \"./theme-menu\";\r\nimport Calculator from \"./calculator\";\r\n\r\nconst App = (function(){\r\n    document.addEventListener(\"DOMContentLoaded\",()=>{\r\n        const Calculator1 = new Calculator();\r\n        const MenuSwitch1 = new MenuSwitch();\r\n    })\r\n}());\r\n\r\n"]}